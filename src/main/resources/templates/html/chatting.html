<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"
        name="viewport" />
    <title>Love Bridge</title>
    <link href="../css/reset.css" rel="stylesheet" type="text/css" />
    <link href="../css/style.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"
        type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.5.2/smooth-scrollbar.js"></script>
    <script defer="defer" src="../js/include.js"></script>
</head>

<body>
    <style>
        .chatting-wrap { display: flex; justify-content: center; background: #fff; box-shadow: 0 0 30px rgba(255, 141, 145, 0.3); padding: 5%; } 
        .chatting-wrap .left {flex: 0 0 25%; background-color: #fff;} 
        .chatting-wrap .avatar-view { width: 100%; display: flex; border: 1px solid #ededed; } 
        .chatting-wrap .avatar-view img { width: 100%; }
        .chatting-wrap .user-info{margin-top: 30px;}
        .chatting-wrap .user-info li{display: flex; justify-content: space-between;}
        .chatting-wrap .user-info li + li{margin-top: 10px;}
        .chatting-wrap .user-info li p {position: relative; font-size: 1.6rem; color: #333; }
        .chatting-wrap .user-info li .tit{width: 35%;}
        .chatting-wrap .user-info li .tit::after{content: ':'; position: absolute; right: 0; top: 0;}
.UserInfoView { width: 300px; height: 320px; border-radius: 25px; background: #FFFFFF; margin-top: 15px; display: flex; flex-direction: column; justify-content: center; align-items: center; } 

.center { width: 100%; height: 500px; margin-left: 10px; margin-right: 10px; background-color: pink; border-radius: 25px; margin-top: 20px;}

.centerBody { width: 100%; height: 100%; background-color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; border-radius: 25px; margin-bottom: 10px; margin-left: 5px; } 

.chatBody { width: 95%; height: 95%; margin: 20px; margin-bottom: 25px; /* 아래쪽 마진 추가 */
background-color: whitesmoke; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; overflow-y: auto; padding: 10px; border-radius: 25px; } 


.attachmentButton { width: 50px; height: 50px; border: 2px solid white; border-radius: 10px; background-color: #007BFF; cursor: pointer; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: background-color 0.3s; padding: 0; margin: 0; } 

.attachmentButton img { width: 40px; height: auto; /* 이미지 비율 유지 */}

.inputField { width: 100%; align-content: center; border: 7px solid white; display: flex; justify-content: center; gap: 10px; background-color: white; border-radius: 15px; margin-left: 5px; } 

.inputChatField { width: 100%; height: 60px; border: 5px solid white; margin-top: 5px; background-color: #84CAFD; border-radius: 15px; } 

.EmojiSize { width: 40px; height: auto; } 


.sendButton { width: 80px; height: 50px; border: 2px solid #FF646A; border-radius: 5px; background-color: #FF646A; color: white; cursor: pointer; } 

.right { width: 500px; height: 600px; margin: 15px; background-color: pink; border-radius: 25px; } 

.rightBody { height: 100%; border-radius: 25px; } 

.rightBody>div { margin-left: 10px; margin-top: 10px; margin-bottom: 10px; } 

.Day { width: 250px; height: 100px; background: #FFFFFF; border-radius: 15px; text-align: center; display: flex; justify-content: center; align-items: center; font-size: 45px; } 

.SecretNumberInput { background: #FFFFFF; border-radius: 15px; height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center; } 

.SecretInputDiv { background-color: #d9d9d9; solid-color: black; height: 40px; margin-top: 20px; margin-bottom: 20px; } 

.SecretOkButton { width: 80px; height: 50px; background: #FFFFFF; border: 1px solid #000000; border-radius: 15px; } 

.MenuUI { background: #FFFFFF; border-radius: 15px; height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;}

.ProfileButton { width: 100px; height: 50px; background: #0094FF; border-radius: 15px; margin: 5px; color: white; } 

.voicemail { width: 100px; height: 50px; background: #FF0000; border-radius: 15px; margin: 5px; color: white; } 

.call { width: 100px; height: 50px; background: #0047FF; border-radius: 15px; margin: 5px; color: white; } 

.Exit { width: 100px; height: 50px; background: #000000; border-radius: 15px; margin: 5px; color: white; } 

.Time { background: #FFFFFF; border-radius: 15px; height: 50px; display: flex; flex-direction: column; justify-content: center; align-items: center; } 
    </style>
    <header data-include-file="./include/header.html" class="header includeJs">
    </header>
    <div class="container">
        <section class="section chatting">
            <div class="chatting-wrap">
                <!-- 왼쪽 그림 이미지 -->
                <div class="left">
                    <!-- 아바타그림 -->
                    <div class="avatar-view">
                        <img src="../images/Avatarimg.svg" class="" alt="아바타 이미지">
                    </div>
                    <!-- 유저 정보 -->
                    <ul class="user-info">
                        <li>
                            <p class="tit">이름</p>
                            <p class="text">두치</p>
                        </li>
                        <li>
                            <p class="tit">별명</p>
                            <p class="text">뿌꾸</p>
                        </li>
                        <li>
                            <p class="tit">나이</p>
                            <p class="text">20</p>
                        </li>
                        <li>
                            <p class="tit">좋아하는것</p>
                            <p class="text">없음</p>
                        </li>
                        <li>
                            <p class="tit">취미</p>
                            <p class="text">십자수</p>
                        </li>
                        <li>
                            <p class="tit">싫어하는것</p>
                            <p class="text">없음</p>
                        </li>
                    </ul>
                </div>
        
        
                <!-- 가운데 그림 이미지 -->
                <div class="center">
        
                    <!-- 채팅뷰 -->
                    <div class="centerBody">
                        <div class="chatBody" id="MessageList"></div>
                    </div>
                    <!-- 입력창 -->
                    <div class="inputField">
                        <div style="align-content: center;">
                            <button class="attachmentButton">
                                <img src="../images/link-45deg.svg" alt="Attachment Icon">
                            </button>
                        </div>
        
                        <div style="align-self: center; width: 100%; display: flex;">
                            <input id="InputChat" class="inputChatField">
                            <button style="border: none;outline: none; background-color: white">
                                <img src="../images/Emoji.svg" class="EmojiSize">
                            </button>
                        </div>
        
                        <div style="align-self: center;">
                            <button id="sendMessageButton" class="sendButton">Send</button>
                        </div>
                    </div>
                </div>
        
        
                <!-- 오른쪽 그림 이미지 -->
                <div class="right">
                    <div class="rightBody">
                        <div class="Day">
                            ?일차
                        </div>
                        <div class="SecretNumberInput">
                            <div style="text-align: center; font-size: 25px; margin-top: 10px;">시크릿코드</div>
                            <div style="margin-bottom: 10px">
                                <input class="SecretInputDiv">
                            </div>
                            <div>
                                <button class="SecretOkButton">확인</button>
                            </div>
                        </div>
                        <div class="MenuUI">
                            <div>
                                <button class="ProfileButton">프로필</button>
                                <button class="voicemail">음성메시지</button>
                            </div>
                            <div>
                                <button class="call">통화</button>
                                <button class="Exit">종료</button>
                            </div>
                        </div>
                        <div class="Time" id="TimeDiv">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <footer data-include-file="./include/footer.html" class="footer includeJs">
    </footer>
</body>

<script>
    // 시크릿번호 생성 : 임시 난수
    const CreateSecretNumber = () => {
        const SecretNumber = Math.floor(Math.random() * 100000);
        const NewSecretNumber = document.getElementById("NewSecretNumber");
        alert("당신의 시크릿 번호는 " + SecretNumber + "입니다.");
        NewSecretNumber.value = SecretNumber;
    }

    // 채팅 메시지 보내기
    const sendMessageButton = document.getElementById("sendMessageButton");
    const inputChat = document.getElementById("InputChat");
    const messageList = document.getElementById("MessageList");

    const sendMessage = () => {
        const message = inputChat.value.trim();
        if (message) {
            const messageElement = document.createElement("div");
            messageElement.textContent = message;
            messageElement.style.margin = "5px 0";
            messageElement.style.padding = "10px";
            messageElement.style.backgroundColor = "#FFF500";
            messageElement.style.borderRadius = "5px";
            messageElement.style.alignSelf = "flex-end"; // 메시지를 오른쪽으로 정렬
            messageElement.style.maxWidth = "80%"; // 선택 사항: 말풍선 너비 제한
            messageElement.style.wordBreak = "break-word"; // 선택 사항: 긴 단어를 말풍선에 맞도록 분리
            messageList.appendChild(messageElement);
            inputChat.value = "";
            messageList.scrollTop = messageList.scrollHeight;
        }
        else {
            alert("입력된 내용이 없습니다.")
        }
    };

    // 엔터버튼으로 send
    sendMessageButton.addEventListener("click", sendMessage);
    inputChat.addEventListener("keyup", (event) => {
        if (event.key === "Enter") {
            sendMessage();
        }
    });

    // 현재 시간 업데이트
    const updateTime = () => {
        const now = new Date();
        const formattedTime = now.toLocaleTimeString();
        document.getElementById("TimeDiv").textContent = formattedTime;
    }

    // 1초마다 현재 시간 업데이트
    setInterval(updateTime, 1000);

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</html>